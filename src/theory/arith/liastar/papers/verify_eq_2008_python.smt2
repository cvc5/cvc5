(set-logic ALL)
(set-option :produce-models true)
;------------------------
(declare-fun x1 () Int)
(declare-fun L () Int)
(declare-fun x () Int)
(declare-fun z1 () Int)
(declare-fun z2 () Int)
;------------------------
(declare-fun F () Bool)
(declare-fun SLS () Bool)

(assert (>= x1 0))
(assert (>= L 0))
(assert (>= x 0))
(assert (>= z1 0))
(assert (>= z2 0))

(assert 
 (= F 
   (and 
     (= z1 (ite (= x1 (ite (<= L x) 0 (- L x))) 0 1))
     (= z2 (ite (<= x L) 0 1))
   )
 )
)

; SLS = [[[0, 0, 1, 0, 1], [[0, 0, 1, 0, 0], [0, 1, 1, 0, 0]]], [[1, 1, 0, 0, 0], [[0, 1, 1, 0, 0]]], [[0, 1, 0, 1, 0], [[0, 2, 0, 0, 0], [1, 2, 1, 0, 0], [2, 0, 0, 0, 0]]], [[1, 0, 1, 1, 1], [[0, 0, 1, 0, 0], [0, 1, 1, 0, 0], [1, 0, 0, 0, 0]]], [[0, 1, 0, 1, 0], [[0, 1, 1, 0, 0], [1, 1, 0, 0, 0], [2, 0, 0, 0, 0], [3, 0, 0, 0, 0]]], [[0, 1, 1, 0, 0], [[0, 4, 4, 0, 0]]], [[0, 2, 0, 1, 0], [[0, 1, 1, 0, 0], [0, 2, 0, 0, 0], [1, 1, 0, 0, 0]]], [[2, 0, 0, 1, 0], [[0, 6, 0, 0, 0], [3, 0, 0, 0, 0]]], [[1, 0, 0, 1, 0], [[0, 1, 1, 0, 0], [1, 0, 0, 0, 0]]]]

; A1 = {(0, 0, 1, 0, 1)}, B1 = {(0, 0, 1, 0, 0), (0, 1, 1, 0, 0)}
; A2 = {(1, 1, 0, 0, 0)}, B2 = {(0, 1, 1, 0, 0)}
; A3 = {(0, 1, 0, 1, 0)}, B3 = {(0, 2, 0, 0, 0), (1, 2, 1, 0, 0), (2, 0, 0, 0, 0)}
; A4 = {(1, 0, 1, 1, 1)}, B4 = {(0, 0, 1, 0, 0), (0, 1, 1, 0, 0), (1, 0, 0, 0, 0)}
; A5 = {(0, 1, 0, 1, 0)}, B5 = {(0, 1, 1, 0, 0), (1, 1, 0, 0, 0), (2, 0, 0, 0, 0), (3, 0, 0, 0, 0)}
; A6 = {(0, 1, 1, 0, 0)}, B6 = {(0, 4, 4, 0, 0)}
; A7 = {(0, 2, 0, 1, 0)}, B7 = {(0, 1, 1, 0, 0), (0, 2, 0, 0, 0), (1, 1, 0, 0, 0)}
; A8 = {(2, 0, 0, 1, 0)}, B8 = {(0, 6, 0, 0, 0), (3, 0, 0, 0, 0)}
; A9 = {(1, 0, 0, 1, 0)}, B9 = {(0, 1, 1, 0, 0), (1, 0, 0, 0, 0)}
(assert 
 (= 
  SLS 
  (or   
    (exists ((l1 Int) (l2 Int))     
      ; (x1,L,x, z1, z2)
      ; A1 = {(0, 0, 1, 0, 1)}, B1 = {(0, 0, 1, 0, 0), (0, 1, 1, 0, 0)}
      (and (>= l1 0) (>= l2 0) 
           (= x1 0) (= L l2) (= x (+ 1 l1 l2)) (= z1 0) (= z2 1)))
    (exists ((l1 Int))       
      ; (x1, L, x, z1, z2)
      ; A2 = {(1, 1, 0, 0, 0)}, B2 = {(0, 1, 1, 0, 0)}
      (and (>= l1 0) 
           (= x1 1) (= L (+ 1 l1)) (= x l1) (= z1 0) (= z2 0)))
    (exists ((l1 Int) (l2 Int) (l3 Int))
      ; (x1, L, x, z1, z2)
      ; A3 = {(0, 1, 0, 1, 0)}, B3 = {(0, 2, 0, 0, 0), (1, 2, 1, 0, 0), (2, 0, 0, 0, 0)}
      (and (>= l1 0) (>= l2 0) (>= l3 0) 
           (= x1 (+ l2 (* 2 l3))) (= L (+ 1 (* 2 l1) (* 2 l2))) (= x l2) (= z1 1) (= z2 0)))
    (exists ((l1 Int) (l2 Int) (l3 Int))
      ; (x1, L, x, z1, z2)
      ; A4 = {(1, 0, 1, 1, 1)}, B4 = {(0, 0, 1, 0, 0), (0, 1, 1, 0, 0), (1, 0, 0, 0, 0)}
      (and (>= l1 0) (>= l2 0) (>= l3 0) 
           (= x1 (+ 1 l3)) (= L l2) (= x (+ 1 l1 l2)) (= z1 1) (= z2 1)))
    (exists ((l1 Int) (l2 Int) (l3 Int) (l4 Int))  
      ; (x1, L, x, z1, z2)
      ; A5 = {(0, 1, 0, 1, 0)}, B5 = {(0, 1, 1, 0, 0), (1, 1, 0, 0, 0), (2, 0, 0, 0, 0), (3, 0, 0, 0, 0)}
      (and  (>= l1 0) (>= l2 0) (>= l3 0) (>= l4 0) 
            (= x1 (+ l2 (* 2 l3) (* 3 l4))) 
            (= L (+ 1 l1 l2)) (= x l1) (= z1 1) (= z2 0)))
    (exists ((l1 Int)) 
      ; (x1, L, x, z1, z2)
      ; A6 = {(0, 1, 1, 0, 0)}, B6 = {(0, 4, 4, 0, 0)}
      (and (>= l1 0) 
           (= x1 0) (= L (+ 1 (* 4 l1))) (= x (+ 1 (* 4 l1))) (= z1 0) (= z2 0)))
    (exists ((l1 Int) (l2 Int) (l3 Int)) 
      ; (x1, L, x, z1, z2)
      ; A7 = {(0, 2, 0, 1, 0)}, B7 = {(0, 1, 1, 0, 0), (0, 2, 0, 0, 0), (1, 1, 0, 0, 0)}
      (and (>= l1 0) (>= l2 0) (>= l3 0) 
           (= x1 l3) (= L (+ 2 l1 (* 2 l2) l3)) (= x l1) (= z1 1) (= z2 0)))
    (exists ((l1 Int) (l2 Int))     
      ; (x1,L,x, z1, z2)
      ; A8 = {(2, 0, 0, 1, 0)}, B8 = {(0, 6, 0, 0, 0), (3, 0, 0, 0, 0)}
      (and (>= l1 0) (>= l2 0) 
           (= x1 (+ 2 (* 3 l2))) (= L (* 6 l1)) (= x 0) (= z1 1) (= z2 0)))
    (exists ((l1 Int) (l2 Int))     
      ; (x1,L,x, z1, z2)
      ; A9 = {(1, 0, 0, 1, 0)}, B9 = {(0, 1, 1, 0, 0), (1, 0, 0, 0, 0)}
      (and (>= l1 0) (>= l2 0) 
           (= x1 (+ 1 l2)) (= L l1) (= x l1) (= z1 1) (= z2 0)))
  )
 )
)

(assert (and F (not SLS)))
;(assert (and (not F) SLS))
(check-sat)
(get-model)
