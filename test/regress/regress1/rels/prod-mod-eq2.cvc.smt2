; EXPECT: sat
(set-option :incremental false)
(set-logic ALL)


(declare-fun x () (Set (Tuple Int Int)))
(declare-fun y () (Set (Tuple Int Int)))
(declare-fun z () (Set (Tuple Int Int Int Int)))
(declare-fun z1 () (Set (Tuple Int Int)))
(declare-fun w1 () (Set (Tuple Int Int)))
(declare-fun z2 () (Set (Tuple Int Int)))
(declare-fun w2 () (Set (Tuple Int Int)))
(declare-fun P ((Set (Tuple Int Int Int Int))) Bool)
(assert (= z (product x y)))
(assert (P z))
(assert (not (P (singleton (mkTuple 0 1 2 3)))))
(assert (member (mkTuple 0 1) z1))
(assert (member (mkTuple 0 1) z2))
(assert (member (mkTuple 2 3) w1))
(assert (member (mkTuple 2 3) w2))
(assert (or (and (= x z1) (= y w1)) (and (= x z2) (= y w2))))
(check-sat)
